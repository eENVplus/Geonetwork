function Model(a){this.strLoader=a}Model.prototype.getEntityList=function(a,c){this.callBack=c;var b="<info>	<type>"+a+"</type></info>";ker.send("xml.info",b,ker.wrap(this,this.getEntityList_OK))};Model.prototype.getEntityList_OK=function(b){if(b.nodeName=="error"){ker.showError(this.strLoader.getText("cannotGetList"),b)}else{b=xml.children(b)[0];var d=[];var c=xml.children(b);for(var a=0;a<c.length;a++){d.push(this.convertEntity(c[a]))}this.callBack(d)}};Model.prototype.convertEntity=function(c){var f={id:c.getAttribute("id")};var e=xml.children(c);for(var b=0;b<e.length;b++){var c=e[b];var a=c.nodeName;var d=xml.textContent(c);if(a=="label"){f[a]=this.convertLabel(c)}else{f[a]=d}}return f};Model.prototype.convertLabel=function(c){var f={};var e=xml.children(c);for(var b=0;b<e.length;b++){var c=e[b];var a=c.nodeName;var d=xml.textContent(c);f[a]=d}return f};Model.prototype.update=function(e,d){this.callBack=d;var b=e.TYPE;var a=Model.entities[b];e.ENTITY=a;var c=str.substitute(Model.updateTemp,e);ker.send("xml."+a+".update",c,ker.wrap(this,this.update_OK))};Model.prototype.update_OK=function(a){if(a.nodeName=="error"){ker.showError(this.strLoader.getText("cannotSave"),a)}else{if(this.callBack){this.callBack()}}};Model.entities={groups:"group",categories:"category",operations:"operation",regions:"region"};Model.updateTemp='<request>   <{ENTITY} id="{ID}">      <label>         <{LANG}>{TEXT}</{LANG}>      </label>   </{ENTITY}></request>';