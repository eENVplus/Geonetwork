Ext.namespace("GeoExt","GeoExt.data");GeoExt.data.ProtocolProxy=function(a){Ext.apply(this,a);GeoExt.data.ProtocolProxy.superclass.constructor.apply(this,arguments)};Ext.extend(GeoExt.data.ProtocolProxy,Ext.data.DataProxy,{protocol:null,abortPrevious:true,response:null,load:function(g,c,h,e,b){if(this.fireEvent("beforeload",this,g)!==false){var f={params:g||{},request:{callback:h,scope:e,arg:b},reader:c};var a=OpenLayers.Function.bind(this.loadResponse,this,f);if(this.abortPrevious){this.abortRequest()}var d={params:g,callback:a,scope:this};Ext.applyIf(d,b);this.response=this.protocol.read(d)}else{h.call(e||this,null,b,false)}},abortRequest:function(){if(this.response){this.protocol.abort(this.response);this.response=null}},loadResponse:function(c,b){if(b.success()){var a=c.reader.read(b);this.fireEvent("load",this,c,c.request.arg);c.request.callback.call(c.request.scope,a,c.request.arg,true)}else{this.fireEvent("loadexception",this,c,b);c.request.callback.call(c.request.scope,null,c.request.arg,false)}}});