Ext.namespace("GeoExt.form");GeoExt.form.toFilter=function(f,a){if(f instanceof Ext.form.FormPanel){f=f.getForm()}var e=[],b=f.getValues(false);for(var h in b){var d=h.split("__");var g=b[h],c;if(d.length>1&&(c=GeoExt.form.toFilter.FILTER_MAP[d[1]])!==undefined){h=d[0]}else{c=OpenLayers.Filter.Comparison.EQUAL_TO}e.push(new OpenLayers.Filter.Comparison({type:c,value:g,property:h}))}return new OpenLayers.Filter.Logical({type:a||OpenLayers.Filter.Logical.AND,filters:e})};GeoExt.form.toFilter.FILTER_MAP={eq:OpenLayers.Filter.Comparison.EQUAL_TO,ne:OpenLayers.Filter.Comparison.NOT_EQUAL_TO,lt:OpenLayers.Filter.Comparison.LESS_THAN,le:OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO,gt:OpenLayers.Filter.Comparison.GREATER_THAN,ge:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,like:OpenLayers.Filter.Comparison.LIKE};