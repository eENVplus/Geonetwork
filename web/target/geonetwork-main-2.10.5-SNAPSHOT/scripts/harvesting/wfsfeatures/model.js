wfsfeatures.Model=function(k){HarvesterModel.call(this);var i=k;var d=null;this.retrieveGroups=f;this.retrieveCategories=j;this.getUpdateRequest=c;this.retrieveIcons=b;this.retrieveSchemas=h;function h(m){callBackSchemasFragments=m;var l=ker.createRequest("type","wfsFragmentSchemas");ker.send("xml.harvesting.info",l,ker.wrap(this,e))}function e(l){if(l.nodeName=="error"){ker.showError(i.getText("cannotRetrieve"),l)}else{var o=[];var n=xml.children(xml.children(l)[0]);for(var m=0;m<n.length;m++){o.push(xml.toObject(n[m]))}callBackSchemasFragments(o)}}function f(l){new InfoService(i,"groupsIncludingSystemGroups",l)}function j(l){new InfoService(i,"categories",l)}function b(m){d=m;var l=ker.createRequest("type","icons");ker.send("xml.harvesting.info",l,ker.wrap(this,g))}function g(l){if(l.nodeName=="error"){ker.showError(i.getText("cannotRetrieve"),l)}else{var o=[];var n=xml.children(xml.children(l)[0]);for(var m=0;m<n.length;m++){o.push(xml.textContent(n[m]))}d(o)}}function c(m){var l=str.substitute(a,m);return this.substituteCommon(m,l)}var a=' <node id="{ID}" type="{TYPE}">    <ownerGroup><id>{OWNERGROUP}</id></ownerGroup>    <site>      <name>{NAME}</name>      <url>{URL}</url>			 <icon>{ICON}</icon>      <account>        <use>{USE_ACCOUNT}</use>        <username>{USERNAME}</username>        <password>{PASSWORD}</password>      </account>    </site>    <options>      <every>{EVERY}</every>      <oneRunOnly>{ONE_RUN_ONLY}</oneRunOnly>      <lang>{LANG}</lang>      <query>{QUERY}</query>      <outputSchema>{OUTPUTSCHEMA}</outputSchema>      <stylesheet>{STYLESHEET}</stylesheet>      <streamFeatures>{STREAMFEATURES}</streamFeatures>      <createSubtemplates>{CREATESUBTEMPLATES}</createSubtemplates>      <templateId>{TEMPLATEID}</templateId>      <recordsCategory>{RECORDSCATEGORY}</recordsCategory>    </options>    <content>      <validate>{VALIDATE}</validate>      <importxslt>{IMPORTXSLT}</importxslt>    </content>    <privileges>       {PRIVIL_LIST}    </privileges>    <categories>       {CATEG_LIST}    </categories>  </node>'};