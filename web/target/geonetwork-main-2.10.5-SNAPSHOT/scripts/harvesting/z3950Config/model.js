Z3950Config.Model=function(i){HarvesterModel.call(this);var g=i;var d=null;this.retrieveImportXslts=f;this.retrieveGroups=e;this.getUpdateRequest=c;function e(j){new InfoService(g,"groupsIncludingSystemGroups",j)}function f(k){d=k;var j=ker.createRequest("type","importStylesheets");ker.send("xml.harvesting.info",j,ker.wrap(this,b))}function b(j){if(j.nodeName=="error"){ker.showError(g.getText("cannotRetrieve"),j)}else{var m=[];var l=xml.children(xml.children(j)[0]);for(var k=0;k<l.length;k++){m.push(xml.toObject(l[k]))}d(m)}}function c(m){var k=str.substitute(a,m);var l=m.SEARCH_LIST;var n="";for(var j=0;j<l.length;j++){n+=str.substitute(h,l[j])}k=str.replace(k,"{SEARCH_LIST}",n);return this.substituteCommon(m,k)}var a=' <node id="{ID}" type="{TYPE}">    <ownerGroup><id>{OWNERGROUP}</id></ownerGroup>    <site>      <name>{NAME}</name>      <host>{HOST}</host>      <port>{PORT}</port>      <account>        <use>{USE_ACCOUNT}</use>        <username>{USERNAME}</username>        <password>{PASSWORD}</password>      </account>    </site>    <options>      <clearConfig>{CLEARCONFIG}</clearConfig>      <every>{EVERY}</every>      <oneRunOnly>{ONE_RUN_ONLY}</oneRunOnly>    </options>    <content>      <validate>{VALIDATE}</validate>      <importxslt>{IMPORTXSLT}</importxslt>    </content>    <searches>       {SEARCH_LIST}    </searches>  </node>';var h="    <search>      <freeText>{TEXT}</freeText>      <title>{TITLE}</title>      <abstract>{ABSTRACT}</abstract>      <keywords>{KEYWORDS}</keywords>      <category>{CATEGORY}</category>    </search>"};