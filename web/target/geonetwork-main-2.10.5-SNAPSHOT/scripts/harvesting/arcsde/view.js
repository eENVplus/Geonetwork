arcsde.View=function(l){HarvesterView.call(this);var b=new XSLTransformer("harvesting/arcsde/client-privil-row.xsl",l);var m=new XSLTransformer("harvesting/arcsde/client-result-tip.xsl",l);var g=l;var a=new Validator(g);this.setPrefix("arcsde");this.setPrivilTransf(b);this.setResultTransf(m);this.init=h;this.setEmpty=k;this.setData=i;this.getData=d;this.isDataValid=c;this.clearIcons=e;this.addIcon=f;this.removeAllGroupRows=function(){};this.unselectCategories=function(){};Event.observe("arcsde.icon","change",ker.wrap(this,j));function h(){a.add([{id:"arcsde.name",type:"length",minSize:1,maxSize:200},{id:"arcsde.server",type:"length",minSize:1,maxSize:500},{id:"arcsde.port",type:"integer",minSize:1,maxSize:10},{id:"arcsde.username",type:"length",minSize:1,maxSize:500},{id:"arcsde.password",type:"length",minSize:1,maxSize:500},{id:"arcsde.database",type:"length",minSize:1,maxSize:500}])}function k(){this.setEmptyCommon();var o=$("arcsde.icon").options;for(var n=0;n<o.length;n++){if(o[n].value=="default.gif"){o[n].selected=true;break}}j()}function i(q){this.setDataCommon(q);var p=q.getElementsByTagName("name")[0];var s=q.getElementsByTagName("server")[0];var n=q.getElementsByTagName("port")[0];var t=q.getElementsByTagName("username")[0];var o=q.getElementsByTagName("password")[0];var r=q.getElementsByTagName("database")[0];hvutil.setOption(q,"icon","arcsde.icon");hvutil.setOption(q,"server","arcsde.server");hvutil.setOption(q,"port","arcsde.port");hvutil.setOption(q,"username","arcsde.username");hvutil.setOption(q,"password","arcsde.password");hvutil.setOption(q,"database","arcsde.database");this.removeAllGroupRows();this.addGroupRows(q);this.unselectCategories();this.selectCategories(q);j()}function d(){var n=this.getDataCommon();n.SERVER=$F("arcsde.server");n.PORT=$F("arcsde.port");n.USERNAME=$F("arcsde.username");n.PASSWORD=$F("arcsde.password");n.DATABASE=$F("arcsde.database");n.ICON=$F("arcsde.icon");n.PRIVILEGES=this.getPrivileges();n.CATEGORIES=this.getSelectedCategories();return n}function c(){if(!a.validate()){return false}return this.isDataValidCommon()}function e(){$("arcsde.icon").options.length=0}function f(n){gui.addToSelect("arcsde.icon",n,n)}function j(){var n=$F("arcsde.icon");var o=$("arcsde.icon.image");o.setAttribute("src",Env.url+"/images/harvesting/"+n)}};