ogcwxs.Model=function(o){HarvesterModel.call(this);var k=o;var f=null;var g=null;var l=null;this.retrieveImportXslts=i;this.retrieveGroups=h;this.retrieveCategories=n;this.retrieveIcons=b;this.retrieveOutputSchemas=m;this.getUpdateRequest=d;function h(p){new InfoService(k,"groupsIncludingSystemGroups",p)}function n(p){new InfoService(k,"categories",p)}function i(q){g=q;var p=ker.createRequest("type","importStylesheets");ker.send("xml.harvesting.info",p,ker.wrap(this,c))}function c(p){if(p.nodeName=="error"){ker.showError(k.getText("cannotRetrieve"),p)}else{var s=[];var r=xml.children(xml.children(p)[0]);for(var q=0;q<r.length;q++){s.push(xml.toObject(r[q]))}g(s)}}function b(q){f=q;var p=ker.createRequest("type","icons");ker.send("xml.harvesting.info",p,ker.wrap(this,j))}function j(p){if(p.nodeName=="error"){ker.showError(k.getText("cannotRetrieve"),p)}else{var s=[];var r=xml.children(xml.children(p)[0]);for(var q=0;q<r.length;q++){s.push(xml.textContent(r[q]))}f(s)}}function m(p,r){l=r;var q=ker.createRequestFromObject({type:"ogcwxsOutputSchemas",serviceType:p});ker.send("xml.harvesting.info",q,ker.wrap(this,e))}function e(p){if(p.nodeName=="error"){ker.showError(k.getText("cannotRetrieve"),p)}else{var s=[];var r=xml.children(xml.children(p)[0]);for(var q=0;q<r.length;q++){s.push(xml.toObject(r[q]))}}l(s)}function d(q){var p=str.substitute(a,q);return this.substituteCommon(q,p)}var a=' <node id="{ID}" type="{TYPE}">    <ownerGroup><id>{OWNERGROUP}</id></ownerGroup>    <site>      <name>{NAME}</name>      <ogctype>{OGCTYPE}</ogctype>      <url>{CAPAB_URL}</url>      <icon>{ICON}</icon>      <account>        <use>{USE_ACCOUNT}</use>        <username>{USERNAME}</username>        <password>{PASSWORD}</password>      </account>    </site>    <options>      <oneRunOnly>{ONE_RUN_ONLY}</oneRunOnly>      <every>{EVERY}</every>      <lang>{LANG}</lang>      <topic>{TOPIC}</topic>      <createThumbnails>{CREATETHUMBNAILS}</createThumbnails>      <useLayer>{USELAYER}</useLayer>      <useLayerMd>{USELAYERMD}</useLayerMd>      <datasetCategory>{DATASETCATEGORY}</datasetCategory>      <outputSchema>{OUTPUTSCHEMA}</outputSchema>    </options>    <content>      <validate>{VALIDATE}</validate>      <importxslt>{IMPORTXSLT}</importxslt>    </content>    <privileges>       {PRIVIL_LIST}    </privileges>    <categories>       {CATEG_LIST}    </categories>  </node>'};