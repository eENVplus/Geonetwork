Ext.namespace("csiro");csiro.SearchThesaurusSelectionPanel=null;csiro.SearchCRSSelectionPanel=null;csiro.SearchKeywordSelectionWindow=null;csiro.showThesaurusSelectionPanel=function(d,b,c,a,e){var g=null;if(b!=""){g=b}csiro.SearchThesaurusSelectionPanel=new csiro.ThesaurusTermSelectionPanel({filterThesaurus:g,minSelected:1,maxSelected:1,listeners:{keywordselected:function(h,j){for(var i in j){if(j[i].uris.length>0){if(e!=""){$(e).value=i}Ext.each(j[i].uris,function(l,k){$(a).value=l;if(c!=""){$(c).value=j[i].terms[k]}},this)}}}}});var f="Search Keywords";csiro.SearchKeywordSelectionWindow=new Ext.Window({width:720,height:330,layout:"fit",title:f,items:csiro.SearchThesaurusSelectionPanel,closeAction:"hide",constrain:true,iconCls:"searchIcon"});csiro.SearchKeywordSelectionWindow.show()};csiro.showCRSSelectionPanel=function(b,a){csiro.SearchCRSSelectionPanel=new csiro.CRSSelectionPanel({minSelected:1,maxSelected:1,listeners:{crsSelected:function(d,e){if(a){$(b).value=e.codes[0]}else{$(b).value=e.descriptions[0]}}}});var c="Search Coordinate Reference Systems (CRS)";csiro.SearchCRSSelectionWindow=new Ext.Window({width:720,height:330,layout:"fit",title:c,items:csiro.SearchCRSSelectionPanel,closeAction:"hide",constrain:true,iconCls:"searchIcon"});csiro.SearchCRSSelectionWindow.show()};csiro.showRelatedDatasetSelectionPanel=function(d,e,b){var a=new app.LinkedMetadataSelectionPanel({ref:d,singleSelect:true,mode:name,listeners:{linkedmetadataselected:function(f,g){if(this.ref!=null){$(this.ref).value=g[0].data.uuid;if(e!=null){$(e).value=b}}}}});var c=new Ext.Window({title:translate("linkedMetadataSelectionWindowTitle"),width:620,height:300,layout:"fit",items:a,closeAction:"hide",constrain:true,iconCls:"linkIcon",modal:true});c.show()};