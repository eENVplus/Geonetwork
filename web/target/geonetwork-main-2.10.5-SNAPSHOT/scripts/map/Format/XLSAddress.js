if(!window.GeoNetwork){window.GeoNetwork={}}if(!GeoNetwork.Format){GeoNetwork.Format={}}GeoNetwork.Format.XLSAddress=OpenLayers.Class({addressee:null,countryCode:null,freeFormAddress:null,street:null,building:null,place:null,postalCode:null,initialize:function(a,b){this.street=[];this.place={CountrySubdivision:null,CountrySecondarySubdivision:null,Municipality:null,MunicipalitySubdivision:null};OpenLayers.Util.extend(this,b);this.countryCode=a},format:function(){if(this.freeFormAddress){return this.freeFormAddress}else{return this.getStreetText()+" "+this.getBuildingText()+" "+this.getPostalCodeText()+" "+this.getPlaceText()}},getStreetText:function(a){if(!a){a=this}var c="";for(var b=0;b<a.street.length;b++){if(c!==""){c+=" "}c+=a.formatObject(a.street[b],GeoNetwork.Format.XLSAddress.formattedStreetProperties)}return c},getBuildingText:function(a){if(!a){a=this}return a.formatObject(a.building,GeoNetwork.Format.XLSAddress.formattedBuildingProperties)},getPostalCodeText:function(a){if(!a){a=this}return !a.postalCode?"":a.postalCode},getPlaceText:function(a){if(!a){a=this}return a.formatObject(a.place,GeoNetwork.Format.XLSAddress.formattedPlaceProperties)},formatObject:function(c,a){if(!c){return""}var d="";if(typeof c=="string"){d=c}else{if(a instanceof Array){for(var b=0;b<a.length;b++){if(c[a[b]]){if(d!==""){d+=" "}d+=c[a[b]]}}}}return d},CLASS_NAME:"GeoNetwork.Format.XLSAddress"});GeoNetwork.Format.XLSAddress.formattedPlaceProperties=["Municipality","MunicipalitySubdivision","CountrySecondarySubdivision","CountrySubdivision"];GeoNetwork.Format.XLSAddress.formattedStreetProperties=["directionalPrefix","typePrefix","officialName","typeSuffix","directionalSuffix","muniOctant"];GeoNetwork.Format.XLSAddress.formattedBuildingProperties=["number","subdivision","buildingName"];