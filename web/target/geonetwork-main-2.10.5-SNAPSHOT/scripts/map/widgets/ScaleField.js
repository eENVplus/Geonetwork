Ext.namespace("GeoNetwork");GeoNetwork.ScaleField=function(a){Ext.apply(this,a);GeoNetwork.ScaleField.superclass.constructor.call(this)};Ext.extend(GeoNetwork.ScaleField,Ext.form.Field,{map:null,initComponent:function(){GeoNetwork.ScaleField.superclass.initComponent.call(this);this.setValue(this.map.getScale().toFixed(0));this.map.events.register("moveend",this,this.updateScale);var a={specialkey:function(b,c){if(c.getKey()==c.ENTER){this.map.zoomToScale(this.getValue(),true)}}};this.on(a)},updateScale:function(){var a=this.map.getScale();this.setValue(a.toFixed(0))},onDestroy:function(){this.map.events.unregister("moveend",this,this.updateScale);GeoNetwork.ScaleField.superclass.onDestroy.call(this)}});Ext.reg("gn_scalefield",GeoNetwork.ScaleField);